(()=>{"use strict";var e={307:(e,t,i)=>{i.r(t)},225:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=i(882);t.default=class{x;y;maxX;maxY;minX;minY;constructor(e,t,i,s,n,o,l){this.x=e,this.y=t,this.maxX=-i,this.maxY=-n,this.minX=-s-l.width,this.minY=-o-l.height}lookAt(e,t){this.x=(0,s.constrain)((0,s.lerp)(this.x,e,.1),this.minX,this.maxX),this.y=(0,s.constrain)((0,s.lerp)(this.y,t,.1),this.minY,this.maxY)}}},196:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{x;y;radius;constructor(e,t,i){this.x=e,this.y=t,this.radius=i}}},778:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(196));Math.PI;class o extends n.default{angle;hitpoints;knockback;movementSpeed;punchAnimationOffset;punchSide;punchSpeed;swingAnimationOffset;swingDelay;swingDirection;swingSpeed;weaponIndex;worldXMax;worldXMin;worldYMax;worldYMin;xVelocity;yVelocity;keys;#e=Math.PI;#t=90;constructor(e,t){super(e,t,19),this.angle=0,this.hitpoints=3,this.knockback=.5,this.movementSpeed=2,this.punchAnimationOffset=0,this.punchSide=!1,this.punchSpeed=.3333,this.swingAnimationOffset=0,this.swingDelay=0,this.swingDirection=!1,this.swingSpeed=6,this.weaponIndex=0,this.xVelocity=0,this.yVelocity=0,this.keys=[]}bindEventListeners(e){e.tabIndex=1,e.addEventListener("mousemove",(e=>{this.angle=Math.atan2(e.offsetY-this.y,e.offsetX-this.x)+Math.PI/2}),{passive:!0}),e.addEventListener("keydown",(e=>{this.keys[e.keyCode]=!0})),e.addEventListener("keyup",(e=>{delete this.keys[e.keyCode]}))}setWorldBounds(e,t,i,s){this.worldXMin=e,this.worldXMax=t,this.worldYMin=i,this.worldYMax=s}update(e){this.xVelocity=0,this.yVelocity=0,this.keys[49]?this.weaponIndex=0:this.keys[50]&&(this.weaponIndex=1),this.keys[65]&&(this.xVelocity-=this.movementSpeed),this.keys[87]&&(this.yVelocity-=this.movementSpeed),this.keys[83]&&(this.yVelocity+=this.movementSpeed),this.keys[68]&&(this.xVelocity+=this.movementSpeed),this.x+=this.xVelocity,this.y+=this.yVelocity,this.x<this.worldXMin+this.radius?this.x=this.worldXMin+this.radius:this.x>this.worldXMax-this.radius&&(this.x=this.worldXMax-this.radius),this.y<this.worldYMin+this.radius?this.y=this.worldYMin+this.radius:this.y>this.worldYMax-this.radius&&(this.y=this.worldYMax-this.radius),e.forEach((e=>e.resolveCircleCollision(this)))}render(e,t){e.save(),e.translate(this.x,this.y),e.rotate(this.angle),this.weaponIndex,e.fillStyle="rgb(245, 216, 166)",e.strokeStyle="#000",e.lineWidth=3,this.punchSide?(e.beginPath(),e.ellipse(12,-16-this.punchAnimationOffset,6,6,0,0,2*Math.PI),e.closePath(),e.fill(),e.stroke(),e.beginPath(),e.ellipse(-12,-16,6,6,0,0,2*Math.PI),e.closePath(),e.fill(),e.stroke()):(e.beginPath(),e.ellipse(12,-16,6,6,0,0,2*Math.PI),e.closePath(),e.fill(),e.stroke(),e.beginPath(),e.ellipse(-12,-16-this.punchAnimationOffset,6,6,0,0,2*Math.PI),e.closePath(),e.fill(),e.stroke()),e.drawImage(t.player_body,-this.radius,-this.radius),e.restore()}}t.default=o},752:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(225)),o=s(i(778));i(307);const l=i(882);let r={};const h={player_skin_tone:[245,216,166],asset_background:[0,0,0,0]},a=document.getElementById("game-wrapper"),d=document.createElement("canvas"),c=d.getContext("2d");d.width=600,d.height=600,a.appendChild(d);const u=new o.default(300,300);let y;u.bindEventListeners(d);let f=0;const p=new n.default(0,0,0,1200,0,1200,d);function g(){c.save(),c.translate(p.x+f*Math.random()|0,p.y+f*Math.random()|0),f&&(f*=f>1?.8:0),c.drawImage(r.background,0,0),u.render(c,r),c.restore(),p.lookAt(u.x,u.y),u.update([])}let m=function(){let e={background(){let e=document.createElement("canvas");e.width=1200,e.height=1200;let t=e.getContext("2d");t.fillStyle="rgb(31, 105, 27)",t.strokeStyle="rgb(21, 84, 17)";for(let e=0;e<30;e++)for(let i=0;i<30;i++)t.fillRect(44*i,44*e,44,44),t.strokeRect(44*i,44*e,44,44);return e},crate:()=>(c.fillStyle=`rgb(${h.asset_background.join(",")})`,c.fillRect(0,0,d.width,d.height),c.strokeStyle="rgb(94, 54, 14)",c.lineWidth=3,c.fillStyle="rgb(158, 117, 76)",c.fillStyle="rgb(158, 117, 76)",c.fillRect(1,1,61,61),c.strokeRect(1,1,61,61),c.fillRect(12,12,40,40),c.strokeRect(12,12,40,40),c.fillRect(12,12,10,40),c.strokeRect(12,12,10,40),c.fillRect(22,12,10,40),c.strokeRect(22,12,10,40),c.fillRect(32,12,10,40),c.strokeRect(32,12,10,40),c.beginPath(),c.moveTo(3,3),c.lineTo(12,12),c.stroke(),c.beginPath(),c.moveTo(60,60),c.lineTo(51,51),c.stroke(),c.beginPath(),c.moveTo(60,3),c.lineTo(51,12),c.stroke(),c.beginPath(),c.moveTo(3,60),c.lineTo(12,51),c.stroke(),(0,l.get)(d,0,0,64,64)),player_body:()=>(c.fillStyle=`rgb(${h.asset_background.join(",")})`,c.fillRect(0,0,d.width,d.height),c.strokeStyle="#000",c.lineWidth=3,c.fillStyle=`rgb(${h.player_skin_tone.join(",")})`,c.beginPath(),c.ellipse(19,19,17,17,0,0,2*Math.PI),c.closePath(),c.fill(),c.stroke(),c.fillStyle="#000",c.beginPath(),c.ellipse(14,18,3.5,3.5,0,0,2*Math.PI),c.closePath(),c.fill(),c.beginPath(),c.ellipse(26,18,3.5,3.5,0,0,2*Math.PI),c.closePath(),c.fill(),(0,l.get)(d,0,0,38,38))},t=0,i=Object.keys(e);return function(){if(t<i.length){let s=i[t++];r[s]=e[s](),c.clearRect(0,0,d.width,d.height)}else y=g}}();y=m;const x=1e3/60;let k=window.performance.now();requestAnimationFrame((function e(t){requestAnimationFrame(e);let i=t-k;i>x&&(k=t-i%x,y())}))},882:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.get=t.constrain=t.slerp=t.lerp=void 0,t.lerp=function(e,t,i){return(t-e)*i+e},t.slerp=function(e,t,i){let s=(t=(t%360+360)%360)-(e=(e%360+360)%360);return s>180?s-=360:s<-180&&(s+=360),e+s*i},t.constrain=function(e,t,i){return e>i?i:e<t?t:e},t.get=function(e,t,i,s,n){let o=document.createElement("canvas");return o.width=s,o.height=n,o.getContext("2d").drawImage(e,t,i,s,n,0,0,s,n),o}}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,i),o.exports}i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};i(752)})();